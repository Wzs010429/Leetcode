# 代码随想录算法训练营第二十九天｜135.分发糖果 134.加油站 1005.K次取反后最大化的数组和

我觉得今天的题目也不算特别难

## 135.分发糖果

这道题就是典型的先找局部优化然后推广到全局优化


不要上来就直接考虑要满足两边的关系，那我们其实可以考虑先满足左边，然后再推广到右边

最开始给每个人肯定要先分一个，然后在左侧条件满足的话，如果说当前位置的值比他左边要大，那么我们至少需要分给当前位置比他左边多一个糖果

这样一次遍历，我们就能满足每一个位置的元素的左侧都已经满足题目要求了

然后我们再从右边开始从右向左遍历一次就好了，让他们的右侧都满足条件。但是这个时候如果是需要增加糖果就不一定是+1了，而是要右侧+1和自身的值进行比较，取较大值

这样才能左右两边同时满足条件


## 134.加油站



题目告诉我们只会有一个满足条件的值，如果这个值存在的话。这就告诉我们其实一次遍历就可以解决问题


我们应该有一个直觉，通过计算出来每一天我们需要消耗的油量和我们能在加油站获得的油量的差值，也就是这一天能剩多少油

如果说突然有一天我们剩的油是一个负数了 那就说明从第0天开始到剩余油量为负数这天我们不可能作为这一圈旅行的起点，因为没跑完呢油就没了


所以我们可以从i+1在开始计算，一直到最后，如果说这个剩余油量都还有的话，那就说明这个开始的加油站是ok的

但是这里有一个疑问，就是我们只做了从头到尾的一次遍历，如果是从第4个加油站开始，一共5个加油站的话我们得循环去看开头啊？但是这里面我们看起来是没做这个环节

这是因为我们还需要统计一个全局的剩余油量信息，如果我们给所有加油站的油加起来减去我们全程一圈需要的油量，如果说这个值是一个负数，那我们是无论如何应该都找不到一个合适的加油站起点的

这种情况下我们可以直接返回-1了，而且题目说了，如果不存在没有的情况，就一定会有一个加油站，从0开始到i我们没找到，那么满足条件的加油站一定会在i+1开始到最后的其中一个加油站

所以我们只需要遍历剩下的部分就好了，如果突然累计油量变成负数了，我们就从下一个节点开始，重新计算剩余油量



## 1005.K次取反后最大化的数组和


这道题真的很简单，首先就是按照绝对值去排序

然后我们从绝对值最大的那边开始遍历，根据我们k的数量，我们优先把绝对值很大的负数给他们改成正数

如果说所有的数都被改成正数了，现在k还有剩余

那我们不可避免要把小的值再改成负数了，那就可最小的进行修改
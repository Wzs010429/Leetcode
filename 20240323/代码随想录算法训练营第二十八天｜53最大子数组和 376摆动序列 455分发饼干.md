# 代码随想录算法训练营第二十八天｜122.买股票的最佳时机 II 55.跳跃游戏 45.跳跃游戏 II


今天这三道题目就只刷回溯算法了，主要掌握回溯算法的思维逻辑，这个还是蛮重要的

## 122.买股票的最佳时机 II

这道题目要求我们可以进行多轮股票买卖，这道题目的巧妙就在于可以一天之内同时对股票进行买入和卖出（虽然听起来真的没什么意义）

这给了我们一种想法，如果我们找到了能够让我们利润最大的那两天（买入和卖出）。例如第一天买入，第三天卖出

那么我们赚的钱就是：D3-D1

其实可以拆分写成每一天：D3-D1 = （D2-D1）+（D3-D2）

中间的D2被两次相加抵消掉了

所以这给了我们一种直觉，我们针对全部股价，按照上面的计算方式吧所有的值都计算出来

然后在一次遍历中，找到最大的那个收益值，然后记录下来返回出来结果即可

这个result应该是，如果下一天的卖出能够给我带来更多的收入，这意味着这一天如果我进行交易是可以增加我的收入的，这样的收益我们就记录在result中，如果是负面收益我们不记录


## 55.跳跃游戏

这个是相对基础的1个算法题目，只需要让我们判断能不能到达终点就可以了

其实还就是一次遍历，然后我们每次都记录当前这个位置能够达到的最远的距离

如果说突然有一个位置的值可以让我们直接到达终点，那么就返回True


但是这里也得有一个细节，就是在某一个中间位置，我们可能会出现断档的情况，通过前面的节点让我们无法到达后序的节点

所以我们遍历的这个i就得先有一个判断条件，他得是小于等于我当前能达到的最大位置



## 45.跳跃游戏 II

这道题在55.跳跃游戏的基础上，除了让我们判断能不能到达终点，还让我们判断最少需要的步骤

这里我们可以有这样的一个直觉，我们开始走一步，这一步可能可以走到未来的几步。

当我们在计算从第一步能够走多远然后对这个第一步能走过的所有的路线进行遍历的时候，我们要记录这里面这些节点能够达到的最远的位置

所以我们需要两个变量：一个叫做cur 一个叫做next，cur存储的就是当前这个步骤能够走多远，next就是当前这个步骤能走过的所有路线中，记录到能走到的最远步骤并且存储在next中。

所以，如果这个第一个位置能达到的所有路径中，也就是next值在这一次遍历中没有大于或者等于这个路径长度的 我们就可以理解为无论如何两步都达不到终点了，不得不找一个新的路径继续开始。

所以在我们遍历的过程中，判定条件就是i达到了cur的位置，这意味着如果我们没退出遍历，就是说没找到这样的路径能到达终点。

这种情况下我们就需要给step+1 必须需要额外的步骤来达到终点了，然后按照相同的逻辑，找到能达到终点的步骤

最后我们输出step就可以了，这道题目的终点在于cur和next这两个代表能到达的最大位置的变量的更新，他们的更新是有区别的，要理解逻辑含义

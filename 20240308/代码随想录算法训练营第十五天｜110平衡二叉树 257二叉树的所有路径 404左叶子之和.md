# 代码随想录算法训练营第十五天｜110.平衡二叉树 257.二叉树的所有路径 404.左叶子之和

## 110.平衡二叉树

首先在这里写一下平衡二叉树的定义 就是左子树和右子树的高度差不能超过1

所以我们可以从递归和迭代两个角度去考虑这个问题

高度的定义是从叶子节点开始计算的 所以一个节点的左右子树结构不同的情况下的  计算出来的树节点高度可能是不一样的

### 递归

递归我们需要明确三个步骤：

1. 明确递归函数的参数和返回值
2. 明确终止条件
3. 明确单层递归的逻辑

首先 递归函数我们要传入的参数是 一个节点的根节点 返回的值应该是这个根节点的计算中的高度

但是我们还需要一个标记，这个标记是用来帮助我们判读这个二叉树是不是已经不是一个平衡二叉树了

比如我们用-1来表示一个二叉树已经不是一个平衡二叉树了，因为二叉树的节点的高度不可能是一个负数 所以这个flag是OK的


对于这个递归的终止条件就是我们检索了空节点，那么我们应该返回高度0

对于单层递归逻辑：

1. 如果我们检索到了空节点 就是0
2. 如果我们检索到了左右子树的高度差大于了1，那么我们返回-1
3. 如果我们已经知晓了左子树或者右子树已经不是一个平衡二叉树了 我们返回-1
3. 如果左右子树的高度是满足条件的，那么我们会取左右子树高度更大的那一个+1来代表当前节点的高度

### 迭代


迭代的话首先我们明确了 这个题目要求我们DFS深度优先 因为我们得先求子树的高度，然后一点点往回传

这种情况下使用栈对我们来说是更好的选择

但是与传统的栈不同，我们需要有具体的回溯操作，因为我们深入到叶子结点之后，我们还需要回退计算他们父节点的高度

这里有一个很巧妙的做法，就是如果我们判断出来当前节点不是叶子结点的时候，我们就在向栈中添加他们的左右节点的时候，先添加一个None空节点，这样我们就可以重新对父节点进行操作

剩下的逻辑思路和递归的思路是完全一致的 从下到上确定每一个节点的高度 然后进行比较 只要出现一个非平衡二叉树 我们就可以直接返回False 不需要递归到最后了

## 257.二叉树的所有路径

### 递归


递归我们需要明确三个步骤：

1. 明确递归函数的参数和返回值：传入的参数：根节点，一个返回结果的列表，当前到达该节点的路径
   1. 根节点就不需要解释了 肯定要传入的参数
   2. 结果列表是因为我们需要填充这个列表，所以他一定要在我们的函数中递归迭代
   3. 当前路径我们需要传入进来，因为我们需要前面的路径，在接下来的递归的每一轮中添加新的节点，来补全我们的全部路径
2. 明确终止条件：当我们遇到叶子节点了 我们直接将这个已经完整结束的路径添加到结果列表中
3. 明确单层递归的逻辑：判断是不是叶子结点，如果是就向结果路径中添加路径，如果不是就需要判断这个节点是否存在左右节点，并且将左右子树当做一个参数放进去进行递归




### 迭代

这道题目的迭代其实就是我们在使用数据结构确定每一个节点之后，需要将他的路径明确出来

意思就是我们需要一个额外的数据结构来存储每一个节点的路径 如何从根节点到达这个节点

当我们检索到一个叶子节点的时候 我们就可以将这个路径输出了

## 404.左叶子之和

### 递归

递归我们需要明确三个步骤：

1. 明确递归函数的参数和返回值 当前节点 返回给我们当前节点的值的总和
2. 明确终止条件 如果当前节点是叶子节点 我们是判断不出来这个节点是左节点还是右节点的 所以我们需要只递归到叶子结点的上一层 所以我们的判定条件应该就是保证这个节点有左子节点，并且这个左子节点应该是叶子节点。此外，如果本身节点就是叶子节点，我们就不统计他的值了，因为我们已经在他的上一层统计过了
3. 明确单层递归的逻辑：如果当前节点不存在或者是叶子结点，我们就返回0 按照后序遍历的顺序 先左右节点后中间 所以我们先统计出左右子树的所有左节点的值 然后统计中间就是将左右加起来

### 迭代


相比之下迭代就很简单了，就一直往里面添加节点就好了 反正我只累加左子节点的值就可以了
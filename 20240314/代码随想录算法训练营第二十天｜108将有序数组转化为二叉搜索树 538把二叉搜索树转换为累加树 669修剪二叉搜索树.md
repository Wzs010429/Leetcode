# 代码随想录算法训练营第二十天｜108.将有序数组转化为二叉搜索树 538.把二叉搜索树转换为累加树 669.修剪二叉搜索树



## 108.将有序数组转化为二叉搜索树


这道题目会递归法就行了

因为数组已经是有序的了 我们在构建二叉搜索树的时候还要求我们这个二叉搜索树必须是一个二叉平衡树

也就是说左右子树的高度差不能大于1


那我们就直接从中间split数组，给左右一人一半就可以了

这里找中间节点的坐标的写法要注意是left+(right-left)//2

必须要这么写 否则我们担心超出整数的运算范围 反正就是一个习惯 注意了就好了

然后把中间节点创建出来 我们就去填充这个root节点的左节点和右节点就可以了

然后左节点就是一个递归 右节点还是一个递归


递归的终止条件就是两个指针碰到了一起

这里因为我们需要递归调用这个函数 所以我们写的时候就尽可能不要创建新的子数组，而是使用指针对原始数组进行操作




## 538.把二叉搜索树转换为累加树


这个数组的遍历模式是右中左 所以我们按照这个模式去写递归就可以了


终止条件就是我们找到了空节点返回None

并且我们应该有一个全局的变量来帮助我们累加每一个节点的值 然后就是 先递归左边 然后中间的节点应该是把左边递归的值和自身加到一起来，然后再去递归右边


迭代同样的道理 我们用到了栈，就是先一直把右节点压栈，找到头，然后一点一点往回退，退出来一个右节点要记得再进他的左节点进行计算就可以了






## 669.修剪二叉搜索树

找范围就会有三种可能


1. 范围全在左子树
2. 范围全在右子树
3. 范围包括了左子树和右子树各一部分


前两种其实蛮简单的 递归就好了：如果全都大就进右子树 全都小就进左子树

前两种我们不断往子树深入，是因为我们**想把前两种情况转化成第三种**

当我们找到了一左一右这种情况之后，我们就可以保留当前这个根节点了，然后去看他的左子树和右子树，然后他的左右子树和我们当前这个根节点进行拼接就可以了

因为左右子树递归返回给我们的也是一个满足条件的子树的一部分，已经帮我们把不在范围之内的节点都删除了 所以我们直接用根节点指向左右子树就可以了




### 迭代


其实迭代的思路和递归完全一样 只不过不能递归 我们就用指针去解决问题

首先还是我们把上面提到的情况的前两种转化成第三种情况

然后我们分别处理左子树和右子树 用一个指针去找到满足条件的子树 然后一拼接即可
